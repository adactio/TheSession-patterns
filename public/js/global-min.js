!function(a,b){"use strict";function c(b){for(b=b||a.event,k=b.target;k.firstChild&&1==k.firstChild.nodeType;)k=k.firstChild;(k.hasAttribute("data-memberbio")||k.hasAttribute("data-memberid"))&&(g(),k.addEventListener("mouseout",e,!1))}function d(a){9==a.keyCode&&(o&&f(),c(a))}function e(){a.clearTimeout(o)}function f(){o=a.setTimeout(i,u)}function g(){o=a.setTimeout(h,t)}function h(){m.innerHTML="",k.hasAttribute("data-memberbio")&&(q=k.getAttribute("data-memberbio"),m.innerHTML+='<p class="discrete">'+q+"</p>"),k.hasAttribute("data-memberid")&&(p=k.getAttribute("data-memberid"),m.innerHTML+='<p class="discrete" style="text-align: center"><a href="/members/'+p+'/contact" class="button action message">send a message</a></p>'),l=k.getBoundingClientRect(),n=m.getBoundingClientRect(),l.top<n.height?(s=Math.round(l.bottom),m.classList.add("below")):(s=Math.round(l.top-n.height),m.classList.add("above")),r=Math.round(l.left+l.width/2-n.width/2),r>a.innerWidth&&(r=a.innerWidth-n.Width),0>r&&(r=0),m.style.left=r+"px",m.style.top=s+"px",m.style.position="fixed",m.setAttribute("aria-hidden","false"),k.setAttribute("aria-describedby","memberdetails"),k.addEventListener("mouseout",f,!1),m.addEventListener("mouseover",e,!1),m.addEventListener("mouseout",f,!1),b.addEventListener("scroll",i,!1)}function i(){m.setAttribute("aria-hidden","true"),k.removeAttribute("aria-describedby"),k.removeEventListener("mouseout",f,!1),m.removeEventListener("mouseout",f,!1),m.removeEventListener("mouseover",e,!1),b.removeEventListener("scroll",i,!1),a.setTimeout(function(){m.innerHTML="",m.classList.remove("above"),m.classList.remove("below"),m.style.left="auto",m.style.top="auto",m.style.position="static"},u)}function j(){m=b.createElement("div"),m.setAttribute("class","hovercard"),m.setAttribute("id","memberdetails"),m.setAttribute("aria-hidden","true"),m.setAttribute("role","tooltip"),b.body.appendChild(m),b.addEventListener("mouseover",c,!1),b.addEventListener("keyup",d,!1)}if(b.documentElement.classList&&a.addEventListener){var k,l,m,n,o,p,q,r,s,t=750,u=250;j()}}(this,this.document);var Mapping={map:null,pins:[],mapOptions:{},location:null,magnification:12,container:null,setContainer:function(a){document.getElementById(a)&&(Mapping.container=document.getElementById(a))},setLocation:function(a,b){window.google&&(Mapping.location=new google.maps.LatLng(a,b))},setMagnification:function(a){Mapping.magnification=a},addMarker:function(a,b,c){if(window.google){var d,e=new google.maps.Marker({map:Mapping.map,animation:google.maps.Animation.DROP,position:new google.maps.LatLng(a,b)});return c&&(d=new google.maps.InfoWindow({content:c}),google.maps.event.addListener(e,"click",function(){d.open(Mapping.map,e)})),Mapping.pins.push(e),e}},dropPin:function(a,b,c){Mapping.addMarker(a,b,c)},removePins:function(){var a,b=Mapping.pins.length;for(a=0;b>a;a+=1)Mapping.pins[a].setMap(null);Mapping.pins=[]},dropPins:function(){if(document.querySelectorAll&&document.addEventListener&&window.google){Mapping.removePins();var a,b,c,d=document.querySelectorAll("[data-latlon]"),e=d.length,f=new google.maps.LatLngBounds,g=function(){this.marker.setAnimation(google.maps.Animation.BOUNCE)},h=function(){this.marker.setAnimation(null)};if(!(1>e)){for(a=0;e>a;a+=1)b=d[a],c=b.getAttribute("data-latlon").split(","),b.marker=Mapping.addMarker(c[0],c[1],b.cloneNode(!0)),f.extend(new google.maps.LatLng(c[0],c[1])),b.addEventListener("mouseover",g,!0),b.addEventListener("mouseout",h,!0);Mapping.map.setCenter(f.getCenter()),e>1&&Mapping.map.fitBounds(f)}}},draw:function(){if(window.google){document.getElementsByTagName("body")[0].className+=" mapping";var a=document.createElement("span");a.innerHTML='<small class="discrete credit"><abbr title="Copyright">&copy;</abbr> <a href="//www.openstreetmap.org/copyright">OpenStreetMap</a> contributors</small>',Mapping.container.parentNode.appendChild(a),Mapping.mapOptions={zoom:Mapping.magnification,mapTypeId:"OSM",mapTypeControlOptions:{mapTypeIds:["OSM","styled_map",google.maps.MapTypeId.SATELLITE]}},Mapping.map=new google.maps.Map(Mapping.container,Mapping.mapOptions),Mapping.location&&Mapping.map.setCenter(Mapping.location),Mapping.map.mapTypes.set("OSM",new google.maps.ImageMapType({getTileUrl:function(a,b){return"//a.tile.openstreetmap.org/"+b+"/"+a.x+"/"+a.y+".png"},tileSize:new google.maps.Size(256,256),name:"Map",maxZoom:18}))}},init:function(){Mapping.setContainer("map"),Mapping.container&&(Mapping.draw(),Mapping.dropPins(),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){if(window.google){var b=new google.maps.LatLng(a.coords.latitude,a.coords.longitude);Mapping.map.setCenter(b),Mapping.map.setZoom(12)}}))}};Mapping.init(),function(a,b){"use strict";function c(c){c=c||a.event,f=c.target,f.hasAttribute("aria-controls")&&(d=f.getAttribute("aria-controls"),b.getElementById(d)&&(c.preventDefault(),e=b.getElementById(d),"true"==e.getAttribute("aria-hidden")?(e.setAttribute("aria-hidden","false"),e.setAttribute("tabindex","-1"),e.focus(),f.setAttribute("aria-expanded","true")):(e.setAttribute("aria-hidden","true"),f.setAttribute("aria-expanded","false"))))}if(a.addEventListener){var d,e,f;b.addEventListener("click",c,!1)}}(this,this.document),function(a,b){"use strict";if(a.addEventListener){var c=function(c){c=c||a.event;var d,e=c.target,f=e.parentNode;e!==b&&e.hasAttribute("data-videoid")&&(f.hasAttribute("data-videoid")&&(e=f,f=e.parentNode),c.preventDefault(),d=e.getAttribute("data-videoid"),f.innerHTML='<div class="youtube"><div class="youtube-video"><iframe src="https://www.youtube.com/embed/'+d+'?autoplay=1" width=320 height=200></iframe></div></div>')};b.addEventListener("click",c,!1)}}(this,this.document);